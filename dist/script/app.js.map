{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/script/Form.js","src/script/Notification.js","src/script/Pagination.js","src/script/Styleguide.js","src/script/Tab.js","src/script/Utils.js","src/script/main.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export class Form {\n\n    // launch class methods\n    static init() {\n        this.dropdown();\n    }\n\n    static dropdown() {\n        let dropdownTriggers = document.querySelectorAll('.dropdown-trigger');\n        [...dropdownTriggers].forEach(function(button) { // spread operator so IE accepts to loop through querySelectorAll result\n\n            // trigger event\n            let $dropdownList = button.parentElement.querySelector('.dropdown-list');\n            let dropdownActive = false;\n\n            button.addEventListener(\"click\", function(e) {\n                e.preventDefault();\n                $dropdownList.style.display = ($dropdownList.style.display == \"\") ? \"block\" : \"\";\n                dropdownActive = $dropdownList.style.display == \"block\";\n\n                // create a clickable `div` to close the dropdown when user clicks outside of the dropdown element\n                if(dropdownActive) {\n                    let $clickable = document.createElement('div');\n                    $clickable.className = \"backdrop\";\n\n                    let $body = document.querySelector('body');\n                    $body.appendChild($clickable);\n\n                    $clickable.addEventListener(\"click\", function() {\n                        $dropdownList.style.display = \"\";\n                        dropdownActive = false;\n                        $clickable.removeEventListener(\"click\", this);\n                        this.remove();\n                    });\n                }\n            });\n\n            // choice event\n            let $anchorTags = $dropdownList.querySelectorAll('a');\n            [...$anchorTags].forEach(function(anchor) { // spread operator so IE accepts to loop through querySelectorAll result\n                anchor.addEventListener(\"click\", function(e) {\n                    e.preventDefault();\n                    let selectionOption = anchor.text;\n\n                    // cleanup previously selected list item (remove active class)\n                    let $currentActiveListItem = $dropdownList.querySelector('li.active');\n                    $currentActiveListItem.classList.remove('active');\n\n                    // select clicked list item by giving it `active` class and changing button label text\n                    anchor.parentElement.classList.add('active');\n                    button.innerHTML = selectionOption;\n\n                    // close the dropdown-list\n                    $dropdownList.style.display = \"\";\n\n                    // cleanup : remove opened backdrop\n                    let $backdrop = document.querySelector('.backdrop');\n                    $backdrop.remove();\n                });\n            });\n        });\n    }\n}\n","import * as Utils from './Utils';\n\nconst FADEOUT_DURATION = 4 * 1000;\n\nexport class Notification {\n\n    // initialize notification behaviour\n    static init() {\n        this.setupContainer();\n        this.removeOnClickEvent();\n    }\n\n    // create or cleanup notifications container\n    static setupContainer()  {\n        let container = document.querySelector('#notification-container');\n\n        // remove eventual existing container element to start clean\n        if(null != container) { container.remove(); }\n\n        // create and append the notification container as body first element\n        container = document.createElement('div');\n        container.id = 'notification-container';\n        let firstPageElement = document.body.firstElementChild;\n        document.body.insertBefore(container, firstPageElement);\n    }\n\n    // set message text and notification type (success, info, warning, error)\n    static create(message, type, isSticky = false) {\n        let container = document.querySelector('#notification-container');\n\n        let notification = document.createElement('div');\n        notification.classList.add(`notification-${type}`);\n        if(isSticky) { notification.classList.add('stick'); } // sticky notifications might be used for long messages\n        notification.innerHTML = message;\n        container.appendChild(notification);\n\n        // animate in\n        setTimeout(\n            function() {\n                notification.classList.add('in');\n\n                // fade out notification (unless it has 'stick' class)\n                if(! notification.classList.contains('stick')) { Notification.clean(notification); }\n            }, 100\n        );\n    }\n\n    // remove old notifications\n    static clean(notification, duration = FADEOUT_DURATION) {\n        // fadeout notification after specified duration in milliseconds (default = FADEOUT_DURATION)\n        setTimeout(\n            function() {\n                notification.classList.remove('in');\n                Notification.clear(notification);\n            }, duration\n        );\n    }\n\n    static clear(notification) {\n        // remove notification from DOM once its fadeout animation has ended (about 1s to be sure)\n        setTimeout(\n            function() {\n                notification.remove();\n            }, 1000\n        );\n    }\n\n    // add click event on 'document' for notifications that will be added later on the DOM\n    static removeOnClickEvent() {\n        // notifications are removed when clicked on\n        document.body.addEventListener(\"click\", function(e) {\n            let element = e.target;\n            if(Utils.hasClass(element, 'in')) { Notification.clean(element, 0) }\n        });\n    }\n\n    // getter\n    static get fadeoutDuration() {\n        return FADEOUT_DURATION;\n    }\n}","export class Pagination {\n\n    // launch class methods\n    static init() {\n        Pagination.pagination();\n    }\n\n    static pagination() {\n        let pagination = document.querySelector('.pagination');\n        let prevItem = pagination.querySelector('.prev');\n        let nextItem = pagination.querySelector('.next');\n        let activeItem = pagination.querySelector('.active');\n        let items = pagination.querySelectorAll('li');\n\n        // set / reset items\n        [...items].forEach(function(item, i) {\n            if(item.classList.contains('ellipsis')) { item.firstElementChild.textContent = i; }\n            item.classList.remove('hidden', 'show', 'ellipsis', 'disabled');\n            item.dataset.page = i;\n        });\n\n        let activeItemIndex = parseInt(activeItem.dataset.page);\n\n        /* add appropriate classes : */\n\n        // disable 'prev' button if active page is the first one\n        if(activeItemIndex == 1) {\n            prevItem.classList.add('disabled');\n            items[3].classList.add('show'); // if active page is 1, the third item is displayed\n        }\n\n        // disable 'next' button if active page is the last one\n        if(activeItemIndex == (items.length - 2)) {\n            nextItem.classList.add('disabled');\n            items[(items.length - 4)].classList.add('show');\n        }\n\n        // first ellipsis check\n        if(activeItemIndex >= 4) { items[2].classList.add('ellipsis', 'show'); }\n\n        // last ellipsis check\n        if(activeItemIndex <= (items.length - 5)) { items[(items.length - 3)].classList.add('ellipsis', 'show'); }\n\n        // active item, previous and next ones\n        items[(activeItemIndex - 1)].classList.add('show');\n        items[activeItemIndex].classList.add('show');\n        items[(activeItemIndex + 1)].classList.add('show');\n\n        // prev, next, first and last pages are displayed as well\n        prevItem.classList.add('show');\n        nextItem.classList.add('show');\n        items[1].classList.add('show');\n        items[(items.length - 2)].classList.add('show');\n\n        // hide every other items\n        [...items].forEach(function(item) { // spread operator so IE accepts to loop through querySelectorAll result\n            if(! item.classList.contains('show')) {\n                item.classList.add('hidden');\n            }\n        });\n\n        // replace 'ellipsis' class list item content with 3 dots\n        let ellipsisItems = document.querySelectorAll('li.ellipsis');\n        [...ellipsisItems].forEach(function(item) { // spread operator so IE accepts to loop through querySelectorAll result\n            item.querySelector('a').textContent = \"...\";\n        });\n    }\n}\n","import { Pagination } from './Pagination';\nimport { Notification } from './Notification';\n\nexport class Styleguide {\n    static init() {\n        Styleguide.inputFeedback();\n        Styleguide.pagination();\n        Styleguide.notification();\n    }\n\n    static inputFeedback() {\n        let inputGroup = document.querySelector('.states-input-test .input-group');\n        let testButtonsGroup = document.querySelector('.states-input-buttons');\n        let testButtons = testButtonsGroup.querySelectorAll('button');\n\n        // insert an empty span as height placeholder\n        createPlaceholder();\n\n        [...testButtons].forEach(function(button) { // spread operator so IE accepts to loop through querySelectorAll result\n\n            button.addEventListener('click', function(e) {\n                e.preventDefault();\n\n                let feedbackText = this.dataset.text;\n                let action = this.dataset.action;\n\n                switch(action) {\n                    case \"disabled\":\n                        disable(this);\n                        break;\n                    case \"reset\":\n                        reset();\n                        break;\n                    default:\n                        state();\n                        break;\n                }\n\n                // disable button\n                function disable(button) {\n                    let input = inputGroup.querySelector('input');\n\n                    input.disabled = !input.disabled;\n                    if(input.disabled) {\n                        button.innerHTML = \"Enable input\";\n                    } else {\n                        button.innerHTML = \"Disable input\";\n                    }\n                }\n\n                // reset state\n                function reset() {\n                    let disableButton = inputGroup.querySelector('.btn-grey');\n\n                    // cleanup potentially disabled state\n                    inputGroup.querySelector('input').disabled = false;\n                    disableButton.innerHTML = \"Disable input\";\n\n                    // remove states classes\n                    inputGroup.className = \"input-group\";\n\n                    // remove feedback state if exists\n                    inputGroup.querySelector('.feedback') ? inputGroup.querySelector('.feedback').remove() : null;\n\n                    // recreate a placeholder\n                    createPlaceholder();\n                }\n\n                // change input state feedback\n                function state() {\n                    // clean up in case the input has been disabled\n                    inputGroup.querySelector('input').disabled = false;\n\n                    // add new class to input-group\n                    inputGroup.className = \"input-group \" + action;\n\n                    // replace the feedback span or create one\n                    let feedbackSpan = inputGroup.querySelector('.feedback');\n                    if(! feedbackSpan) {\n                        feedbackSpan = document.createElement('span');\n                        feedbackSpan.className = \"feedback\";\n                    }\n\n                    feedbackSpan.textContent = feedbackText;\n                    inputGroup.insertBefore(feedbackSpan, inputGroup.querySelector('.states-input-buttons'));\n                }\n\n            });\n        });\n\n        function createPlaceholder() {\n            let placeholder = document.createElement('span');\n            placeholder.className = \"feedback\";\n            placeholder.innerHTML = \"&nbsp;\";\n            inputGroup.insertBefore(placeholder, testButtonsGroup);\n        }\n    }\n\n    static pagination() {\n        let pagination = document.querySelector('.pagination');\n        let items = pagination.querySelectorAll('li');\n\n        [...items].forEach(function(item) {\n            item.addEventListener(\"click\", function(e) {\n                e.preventDefault();\n\n                let activeItemIndex = parseInt(pagination.querySelector('.active').dataset.page);\n\n                // remove active class from old active item\n                items[activeItemIndex].classList.remove('active');\n\n                // prev & next cases\n                if(item.classList.contains('prev')) {\n                    items[activeItemIndex - 1].classList.add('active');\n                } else if(item.classList.contains('next')) {\n                    items[activeItemIndex + 1].classList.add('active');\n                } else {\n                    // selected new active page\n                    item.classList.add('active');\n                }\n\n                // relaunch function for demo purpose\n                Pagination.pagination();\n            });\n        });\n    }\n\n    static notification() {\n\n        // standard buttons (non-sticky notifications)\n        let standardNotificationButtons = document.querySelectorAll('.standard-notifications button');\n\n        [...standardNotificationButtons].forEach(function(button) {\n            let notificationText = button.dataset.text;\n            let notificationType = button.className.slice(4);\n\n            button.addEventListener(\"click\", function(e) {\n                e.preventDefault();\n\n                Notification.create(notificationText, notificationType);\n            });\n        });\n\n        // sticky notification button\n        let stickyButtons = document.querySelectorAll('.notifications-test .sticky');\n\n        [...stickyButtons].forEach(function(button) {\n            button.addEventListener(\"click\", function(e) {\n                e.preventDefault();\n\n                let notificationText = button.dataset.text;\n                let isSticky = true;\n                Notification.create(notificationText, \"info\", isSticky);\n            });\n        });\n    }\n}","import * as Utils from './Utils';\n\nlet visibleTabContentIds;\n\nexport class Tab {\n\n    // launch class methods\n    static init() {\n        this.tab();\n    }\n\n    static tab() {\n        // update active tab(s)\n        this.updateActiveContentIds();\n\n        // hide non active content at page start up (show still display active content)\n        this.hideNonActiveContent();\n\n        // menu behaviour\n        let tabMenuLinks = document.querySelectorAll('.tabs-menu a');\n        [...tabMenuLinks].forEach(function(link) {\n            link.addEventListener(\"click\", function(e) {\n                e.preventDefault();\n                // get link owning tab\n                let tabs = Utils.closest(link, 'tabs');\n\n                // hide current active content\n                let activeMenuTab = tabs.querySelector('.active');\n                if(null != activeMenuTab) { activeMenuTab.classList.remove('active'); }\n\n                // add 'active' class to link parent\n                link.parentElement.classList.add('active');\n\n                // and finally update DOM\n                Tab.updateActiveContentIds();\n                Tab.hideNonActiveContent();\n            });\n        });\n    }\n\n    static updateActiveContentIds() {\n        visibleTabContentIds = new Set(); // start clean\n        let activeTabMenus = document.querySelectorAll('.tabs-menu .active');\n        [...activeTabMenus].forEach(function(tabMenu) {\n            let targetId = tabMenu.firstElementChild.getAttribute('href').slice(1); // remove the # symbol\n            visibleTabContentIds.add(targetId);\n        });\n    }\n\n    static hideNonActiveContent() {\n        let tabContents = document.querySelectorAll('.tabs .tabs-content');\n        [...tabContents].forEach(function(contentBlock) {\n            [...contentBlock.children].forEach(function(content) {\n                // start clean by removing 'hidden' class\n                content.classList.remove('hidden');\n\n                // hide contents that are not in an active state tab\n                if(! visibleTabContentIds.has(content.id)) {\n                    content.classList.add('hidden');\n                }\n            });\n        });\n    }\n}\n","export function hasClass(element, className) {\n    return element.classList.contains(className);\n}\n\nexport function closest(element, className) {\n    let parent;\n\n    while(element) {\n        parent = element.parentElement;\n\n        if(hasClass(parent, className)) {\n            return parent;\n        }\n\n        element = parent;\n    };\n\n    return null;\n}","import { Form } from './Form';\nimport { Pagination } from './Pagination';\nimport { Notification } from './Notification';\nimport { Tab } from './Tab';\n\n// styleguide custom examples\nimport { Styleguide } from './Styleguide';\n\nwindow.onload = function() {\n\n    Form.init();\n    Pagination.init();\n    Notification.init();\n    Tab.init();\n\n    // styleguide custom examples\n    Styleguide.init();\n};"],"preExisting":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0L0Zvcm0uanMiLCJzcmMvc2NyaXB0L05vdGlmaWNhdGlvbi5qcyIsInNyYy9zY3JpcHQvUGFnaW5hdGlvbi5qcyIsInNyYy9zY3JpcHQvU3R5bGVndWlkZS5qcyIsInNyYy9zY3JpcHQvVGFiLmpzIiwic3JjL3NjcmlwdC9VdGlscy5qcyIsInNyYy9zY3JpcHQvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7OztJQ0FhLEksV0FBQSxJOzs7Ozs7Ozs7QUFFVDsrQkFDYztBQUNWLGlCQUFLLFFBQUw7QUFDSDs7O21DQUVpQjtBQUNkLGdCQUFJLG1CQUFtQixTQUFTLGdCQUFULENBQTBCLG1CQUExQixDQUF2QjtBQUNBLHlDQUFJLGdCQUFKLEdBQXNCLE9BQXRCLENBQThCLFVBQVMsTUFBVCxFQUFpQjtBQUFFOztBQUU3QztBQUNBLG9CQUFJLGdCQUFnQixPQUFPLGFBQVAsQ0FBcUIsYUFBckIsQ0FBbUMsZ0JBQW5DLENBQXBCO0FBQ0Esb0JBQUksaUJBQWlCLEtBQXJCOztBQUVBLHVCQUFPLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDLFVBQVMsQ0FBVCxFQUFZO0FBQ3pDLHNCQUFFLGNBQUY7QUFDQSxrQ0FBYyxLQUFkLENBQW9CLE9BQXBCLEdBQStCLGNBQWMsS0FBZCxDQUFvQixPQUFwQixJQUErQixFQUFoQyxHQUFzQyxPQUF0QyxHQUFnRCxFQUE5RTtBQUNBLHFDQUFpQixjQUFjLEtBQWQsQ0FBb0IsT0FBcEIsSUFBK0IsT0FBaEQ7O0FBRUE7QUFDQSx3QkFBRyxjQUFILEVBQW1CO0FBQUE7QUFDZixnQ0FBSSxhQUFhLFNBQVMsYUFBVCxDQUF1QixLQUF2QixDQUFqQjtBQUNBLHVDQUFXLFNBQVgsR0FBdUIsVUFBdkI7O0FBRUEsZ0NBQUksUUFBUSxTQUFTLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBWjtBQUNBLGtDQUFNLFdBQU4s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Q29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydCBjbGFzcyBGb3JtIHtcblxuICAgIC8vIGxhdW5jaCBjbGFzcyBtZXRob2RzXG4gICAgc3RhdGljIGluaXQoKSB7XG4gICAgICAgIHRoaXMuZHJvcGRvd24oKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZHJvcGRvd24oKSB7XG4gICAgICAgIGxldCBkcm9wZG93blRyaWdnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bkb3duLXRyaWdnZXInKTtcbiAgICAgICAgWy4uLmRyb3Bkb3duVHJpZ2dlcnNdLmZvckVhY2goZnVuY3Rpb24oYnV0dG9uKSB7IC8vIHNwcmVhZCBvcGVyYXRvciBzbyBJRSBhY2NlcHRzIHRvIGxvb3AgdGhyb3VnaCBxdWVyeVNlbGVjdG9yQWxsIHJlc3VsdFxuXG4gICAgICAgICAgICAvLyB0cmlnZ2VyIGV2ZW50XG4gICAgICAgICAgICBsZXQgJGRyb3Bkb3duTGlzdCA9IGJ1dHRvbi5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bi1saXN0Jyk7XG4gICAgICAgICAgICBsZXQgZHJvcGRvd25BY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICRkcm9wZG93bkxpc3Quc3R5bGUuZGlzcGxheSA9ICgkZHJvcGRvd25MaXN0LnN0eWxlLmRpc3BsYXkgPT0gXCJcIikgPyBcImJsb2NrXCIgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQWN0aXZlID0gJGRyb3Bkb3duTGlzdC5zdHlsZS5kaXNwbGF5ID09IFwiYmxvY2tcIjtcblxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhIGNsaWNrYWJsZSBgZGl2YCB0byBjbG9zZSB0aGUgZHJvcGRvd24gd2hlbiB1c2VyIGNsaWNrcyBvdXRzaWRlIG9mIHRoZSBkcm9wZG93biBlbGVtZW50XG4gICAgICAgICAgICAgICAgaWYoZHJvcGRvd25BY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0ICRjbGlja2FibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgJGNsaWNrYWJsZS5jbGFzc05hbWUgPSBcImJhY2tkcm9wXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0ICRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgICAgICAgICAgICAgICAgICAkYm9keS5hcHBlbmRDaGlsZCgkY2xpY2thYmxlKTtcblxuICAgICAgICAgICAgICAgICAgICAkY2xpY2thYmxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRkcm9wZG93bkxpc3Quc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bkFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGNsaWNrYWJsZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gY2hvaWNlIGV2ZW50XG4gICAgICAgICAgICBsZXQgJGFuY2hvclRhZ3MgPSAkZHJvcGRvd25MaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKTtcbiAgICAgICAgICAgIFsuLi4kYW5jaG9yVGFnc10uZm9yRWFjaChmdW5jdGlvbihhbmNob3IpIHsgLy8gc3ByZWFkIG9wZXJhdG9yIHNvIElFIGFjY2VwdHMgdG8gbG9vcCB0aHJvdWdoIHF1ZXJ5U2VsZWN0b3JBbGwgcmVzdWx0XG4gICAgICAgICAgICAgICAgYW5jaG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGVjdGlvbk9wdGlvbiA9IGFuY2hvci50ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNsZWFudXAgcHJldmlvdXNseSBzZWxlY3RlZCBsaXN0IGl0ZW0gKHJlbW92ZSBhY3RpdmUgY2xhc3MpXG4gICAgICAgICAgICAgICAgICAgIGxldCAkY3VycmVudEFjdGl2ZUxpc3RJdGVtID0gJGRyb3Bkb3duTGlzdC5xdWVyeVNlbGVjdG9yKCdsaS5hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRBY3RpdmVMaXN0SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzZWxlY3QgY2xpY2tlZCBsaXN0IGl0ZW0gYnkgZ2l2aW5nIGl0IGBhY3RpdmVgIGNsYXNzIGFuZCBjaGFuZ2luZyBidXR0b24gbGFiZWwgdGV4dFxuICAgICAgICAgICAgICAgICAgICBhbmNob3IucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IHNlbGVjdGlvbk9wdGlvbjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjbG9zZSB0aGUgZHJvcGRvd24tbGlzdFxuICAgICAgICAgICAgICAgICAgICAkZHJvcGRvd25MaXN0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNsZWFudXAgOiByZW1vdmUgb3BlbmVkIGJhY2tkcm9wXG4gICAgICAgICAgICAgICAgICAgIGxldCAkYmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFja2Ryb3AnKTtcbiAgICAgICAgICAgICAgICAgICAgJGJhY2tkcm9wLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIFV0aWxzIGZyb20gJy4vVXRpbHMnO1xuXG5jb25zdCBGQURFT1VUX0RVUkFUSU9OID0gNCAqIDEwMDA7XG5cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb24ge1xuXG4gICAgLy8gaW5pdGlhbGl6ZSBub3RpZmljYXRpb24gYmVoYXZpb3VyXG4gICAgc3RhdGljIGluaXQoKSB7XG4gICAgICAgIHRoaXMuc2V0dXBDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVPbkNsaWNrRXZlbnQoKTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgb3IgY2xlYW51cCBub3RpZmljYXRpb25zIGNvbnRhaW5lclxuICAgIHN0YXRpYyBzZXR1cENvbnRhaW5lcigpICB7XG4gICAgICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbm90aWZpY2F0aW9uLWNvbnRhaW5lcicpO1xuXG4gICAgICAgIC8vIHJlbW92ZSBldmVudHVhbCBleGlzdGluZyBjb250YWluZXIgZWxlbWVudCB0byBzdGFydCBjbGVhblxuICAgICAgICBpZihudWxsICE9IGNvbnRhaW5lcikgeyBjb250YWluZXIucmVtb3ZlKCk7IH1cblxuICAgICAgICAvLyBjcmVhdGUgYW5kIGFwcGVuZCB0aGUgbm90aWZpY2F0aW9uIGNvbnRhaW5lciBhcyBib2R5IGZpcnN0IGVsZW1lbnRcbiAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRhaW5lci5pZCA9ICdub3RpZmljYXRpb24tY29udGFpbmVyJztcbiAgICAgICAgbGV0IGZpcnN0UGFnZUVsZW1lbnQgPSBkb2N1bWVudC5ib2R5LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShjb250YWluZXIsIGZpcnN0UGFnZUVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIHNldCBtZXNzYWdlIHRleHQgYW5kIG5vdGlmaWNhdGlvbiB0eXBlIChzdWNjZXNzLCBpbmZvLCB3YXJuaW5nLCBlcnJvcilcbiAgICBzdGF0aWMgY3JlYXRlKG1lc3NhZ2UsIHR5cGUsIGlzU3RpY2t5ID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNub3RpZmljYXRpb24tY29udGFpbmVyJyk7XG5cbiAgICAgICAgbGV0IG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZChgbm90aWZpY2F0aW9uLSR7dHlwZX1gKTtcbiAgICAgICAgaWYoaXNTdGlja3kpIHsgbm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ3N0aWNrJyk7IH0gLy8gc3RpY2t5IG5vdGlmaWNhdGlvbnMgbWlnaHQgYmUgdXNlZCBmb3IgbG9uZyBtZXNzYWdlc1xuICAgICAgICBub3RpZmljYXRpb24uaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvbik7XG5cbiAgICAgICAgLy8gYW5pbWF0ZSBpblxuICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ2luJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBmYWRlIG91dCBub3RpZmljYXRpb24gKHVubGVzcyBpdCBoYXMgJ3N0aWNrJyBjbGFzcylcbiAgICAgICAgICAgICAgICBpZighIG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3N0aWNrJykpIHsgTm90aWZpY2F0aW9uLmNsZWFuKG5vdGlmaWNhdGlvbik7IH1cbiAgICAgICAgICAgIH0sIDEwMFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBvbGQgbm90aWZpY2F0aW9uc1xuICAgIHN0YXRpYyBjbGVhbihub3RpZmljYXRpb24sIGR1cmF0aW9uID0gRkFERU9VVF9EVVJBVElPTikge1xuICAgICAgICAvLyBmYWRlb3V0IG5vdGlmaWNhdGlvbiBhZnRlciBzcGVjaWZpZWQgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzIChkZWZhdWx0ID0gRkFERU9VVF9EVVJBVElPTilcbiAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdpbicpO1xuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5jbGVhcihub3RpZmljYXRpb24pO1xuICAgICAgICAgICAgfSwgZHVyYXRpb25cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY2xlYXIobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIC8vIHJlbW92ZSBub3RpZmljYXRpb24gZnJvbSBET00gb25jZSBpdHMgZmFkZW91dCBhbmltYXRpb24gaGFzIGVuZGVkIChhYm91dCAxcyB0byBiZSBzdXJlKVxuICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSwgMTAwMFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIGFkZCBjbGljayBldmVudCBvbiAnZG9jdW1lbnQnIGZvciBub3RpZmljYXRpb25zIHRoYXQgd2lsbCBiZSBhZGRlZCBsYXRlciBvbiB0aGUgRE9NXG4gICAgc3RhdGljIHJlbW92ZU9uQ2xpY2tFdmVudCgpIHtcbiAgICAgICAgLy8gbm90aWZpY2F0aW9ucyBhcmUgcmVtb3ZlZCB3aGVuIGNsaWNrZWQgb25cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIGlmKFV0aWxzLmhhc0NsYXNzKGVsZW1lbnQsICdpbicpKSB7IE5vdGlmaWNhdGlvbi5jbGVhbihlbGVtZW50LCAwKSB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGdldHRlclxuICAgIHN0YXRpYyBnZXQgZmFkZW91dER1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gRkFERU9VVF9EVVJBVElPTjtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFBhZ2luYXRpb24ge1xuXG4gICAgLy8gbGF1bmNoIGNsYXNzIG1ldGhvZHNcbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgUGFnaW5hdGlvbi5wYWdpbmF0aW9uKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhZ2luYXRpb24oKSB7XG4gICAgICAgIGxldCBwYWdpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb24nKTtcbiAgICAgICAgbGV0IHByZXZJdGVtID0gcGFnaW5hdGlvbi5xdWVyeVNlbGVjdG9yKCcucHJldicpO1xuICAgICAgICBsZXQgbmV4dEl0ZW0gPSBwYWdpbmF0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5uZXh0Jyk7XG4gICAgICAgIGxldCBhY3RpdmVJdGVtID0gcGFnaW5hdGlvbi5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJyk7XG4gICAgICAgIGxldCBpdGVtcyA9IHBhZ2luYXRpb24ucXVlcnlTZWxlY3RvckFsbCgnbGknKTtcblxuICAgICAgICAvLyBzZXQgLyByZXNldCBpdGVtc1xuICAgICAgICBbLi4uaXRlbXNdLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaSkge1xuICAgICAgICAgICAgaWYoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2VsbGlwc2lzJykpIHsgaXRlbS5maXJzdEVsZW1lbnRDaGlsZC50ZXh0Q29udGVudCA9IGk7IH1cbiAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJywgJ3Nob3cnLCAnZWxsaXBzaXMnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIGl0ZW0uZGF0YXNldC5wYWdlID0gaTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGFjdGl2ZUl0ZW1JbmRleCA9IHBhcnNlSW50KGFjdGl2ZUl0ZW0uZGF0YXNldC5wYWdlKTtcblxuICAgICAgICAvKiBhZGQgYXBwcm9wcmlhdGUgY2xhc3NlcyA6ICovXG5cbiAgICAgICAgLy8gZGlzYWJsZSAncHJldicgYnV0dG9uIGlmIGFjdGl2ZSBwYWdlIGlzIHRoZSBmaXJzdCBvbmVcbiAgICAgICAgaWYoYWN0aXZlSXRlbUluZGV4ID09IDEpIHtcbiAgICAgICAgICAgIHByZXZJdGVtLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICBpdGVtc1szXS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7IC8vIGlmIGFjdGl2ZSBwYWdlIGlzIDEsIHRoZSB0aGlyZCBpdGVtIGlzIGRpc3BsYXllZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGlzYWJsZSAnbmV4dCcgYnV0dG9uIGlmIGFjdGl2ZSBwYWdlIGlzIHRoZSBsYXN0IG9uZVxuICAgICAgICBpZihhY3RpdmVJdGVtSW5kZXggPT0gKGl0ZW1zLmxlbmd0aCAtIDIpKSB7XG4gICAgICAgICAgICBuZXh0SXRlbS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgaXRlbXNbKGl0ZW1zLmxlbmd0aCAtIDQpXS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJzdCBlbGxpcHNpcyBjaGVja1xuICAgICAgICBpZihhY3RpdmVJdGVtSW5kZXggPj0gNCkgeyBpdGVtc1syXS5jbGFzc0xpc3QuYWRkKCdlbGxpcHNpcycsICdzaG93Jyk7IH1cblxuICAgICAgICAvLyBsYXN0IGVsbGlwc2lzIGNoZWNrXG4gICAgICAgIGlmKGFjdGl2ZUl0ZW1JbmRleCA8PSAoaXRlbXMubGVuZ3RoIC0gNSkpIHsgaXRlbXNbKGl0ZW1zLmxlbmd0aCAtIDMpXS5jbGFzc0xpc3QuYWRkKCdlbGxpcHNpcycsICdzaG93Jyk7IH1cblxuICAgICAgICAvLyBhY3RpdmUgaXRlbSwgcHJldmlvdXMgYW5kIG5leHQgb25lc1xuICAgICAgICBpdGVtc1soYWN0aXZlSXRlbUluZGV4IC0gMSldLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICAgICAgaXRlbXNbYWN0aXZlSXRlbUluZGV4XS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgICAgIGl0ZW1zWyhhY3RpdmVJdGVtSW5kZXggKyAxKV0uY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuXG4gICAgICAgIC8vIHByZXYsIG5leHQsIGZpcnN0IGFuZCBsYXN0IHBhZ2VzIGFyZSBkaXNwbGF5ZWQgYXMgd2VsbFxuICAgICAgICBwcmV2SXRlbS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgICAgIG5leHRJdGVtLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICAgICAgaXRlbXNbMV0uY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgICAgICBpdGVtc1soaXRlbXMubGVuZ3RoIC0gMildLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcblxuICAgICAgICAvLyBoaWRlIGV2ZXJ5IG90aGVyIGl0ZW1zXG4gICAgICAgIFsuLi5pdGVtc10uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7IC8vIHNwcmVhZCBvcGVyYXRvciBzbyBJRSBhY2NlcHRzIHRvIGxvb3AgdGhyb3VnaCBxdWVyeVNlbGVjdG9yQWxsIHJlc3VsdFxuICAgICAgICAgICAgaWYoISBpdGVtLmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVwbGFjZSAnZWxsaXBzaXMnIGNsYXNzIGxpc3QgaXRlbSBjb250ZW50IHdpdGggMyBkb3RzXG4gICAgICAgIGxldCBlbGxpcHNpc0l0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGkuZWxsaXBzaXMnKTtcbiAgICAgICAgWy4uLmVsbGlwc2lzSXRlbXNdLmZvckVhY2goZnVuY3Rpb24oaXRlbSkgeyAvLyBzcHJlYWQgb3BlcmF0b3Igc28gSUUgYWNjZXB0cyB0byBsb29wIHRocm91Z2ggcXVlcnlTZWxlY3RvckFsbCByZXN1bHRcbiAgICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignYScpLnRleHRDb250ZW50ID0gXCIuLi5cIjtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUGFnaW5hdGlvbiB9IGZyb20gJy4vUGFnaW5hdGlvbic7XG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBTdHlsZWd1aWRlIHtcbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgU3R5bGVndWlkZS5pbnB1dEZlZWRiYWNrKCk7XG4gICAgICAgIFN0eWxlZ3VpZGUucGFnaW5hdGlvbigpO1xuICAgICAgICBTdHlsZWd1aWRlLm5vdGlmaWNhdGlvbigpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbnB1dEZlZWRiYWNrKCkge1xuICAgICAgICBsZXQgaW5wdXRHcm91cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGF0ZXMtaW5wdXQtdGVzdCAuaW5wdXQtZ3JvdXAnKTtcbiAgICAgICAgbGV0IHRlc3RCdXR0b25zR3JvdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhdGVzLWlucHV0LWJ1dHRvbnMnKTtcbiAgICAgICAgbGV0IHRlc3RCdXR0b25zID0gdGVzdEJ1dHRvbnNHcm91cC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKTtcblxuICAgICAgICAvLyBpbnNlcnQgYW4gZW1wdHkgc3BhbiBhcyBoZWlnaHQgcGxhY2Vob2xkZXJcbiAgICAgICAgY3JlYXRlUGxhY2Vob2xkZXIoKTtcblxuICAgICAgICBbLi4udGVzdEJ1dHRvbnNdLmZvckVhY2goZnVuY3Rpb24oYnV0dG9uKSB7IC8vIHNwcmVhZCBvcGVyYXRvciBzbyBJRSBhY2NlcHRzIHRvIGxvb3AgdGhyb3VnaCBxdWVyeVNlbGVjdG9yQWxsIHJlc3VsdFxuXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGZlZWRiYWNrVGV4dCA9IHRoaXMuZGF0YXNldC50ZXh0O1xuICAgICAgICAgICAgICAgIGxldCBhY3Rpb24gPSB0aGlzLmRhdGFzZXQuYWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGUodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlc2V0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZGlzYWJsZSBidXR0b25cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkaXNhYmxlKGJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXQgPSBpbnB1dEdyb3VwLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuZGlzYWJsZWQgPSAhaW5wdXQuZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmKGlucHV0LmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gXCJFbmFibGUgaW5wdXRcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBcIkRpc2FibGUgaW5wdXRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IHN0YXRlXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXNhYmxlQnV0dG9uID0gaW5wdXRHcm91cC5xdWVyeVNlbGVjdG9yKCcuYnRuLWdyZXknKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIHBvdGVudGlhbGx5IGRpc2FibGVkIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgIGlucHV0R3JvdXAucXVlcnlTZWxlY3RvcignaW5wdXQnKS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlQnV0dG9uLmlubmVySFRNTCA9IFwiRGlzYWJsZSBpbnB1dFwiO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBzdGF0ZXMgY2xhc3Nlc1xuICAgICAgICAgICAgICAgICAgICBpbnB1dEdyb3VwLmNsYXNzTmFtZSA9IFwiaW5wdXQtZ3JvdXBcIjtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgZmVlZGJhY2sgc3RhdGUgaWYgZXhpc3RzXG4gICAgICAgICAgICAgICAgICAgIGlucHV0R3JvdXAucXVlcnlTZWxlY3RvcignLmZlZWRiYWNrJykgPyBpbnB1dEdyb3VwLnF1ZXJ5U2VsZWN0b3IoJy5mZWVkYmFjaycpLnJlbW92ZSgpIDogbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZWNyZWF0ZSBhIHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVBsYWNlaG9sZGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIGlucHV0IHN0YXRlIGZlZWRiYWNrXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc3RhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsZWFuIHVwIGluIGNhc2UgdGhlIGlucHV0IGhhcyBiZWVuIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIGlucHV0R3JvdXAucXVlcnlTZWxlY3RvcignaW5wdXQnKS5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBuZXcgY2xhc3MgdG8gaW5wdXQtZ3JvdXBcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRHcm91cC5jbGFzc05hbWUgPSBcImlucHV0LWdyb3VwIFwiICsgYWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIGZlZWRiYWNrIHNwYW4gb3IgY3JlYXRlIG9uZVxuICAgICAgICAgICAgICAgICAgICBsZXQgZmVlZGJhY2tTcGFuID0gaW5wdXRHcm91cC5xdWVyeVNlbGVjdG9yKCcuZmVlZGJhY2snKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoISBmZWVkYmFja1NwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlZWRiYWNrU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlZWRiYWNrU3Bhbi5jbGFzc05hbWUgPSBcImZlZWRiYWNrXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmZWVkYmFja1NwYW4udGV4dENvbnRlbnQgPSBmZWVkYmFja1RleHQ7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0R3JvdXAuaW5zZXJ0QmVmb3JlKGZlZWRiYWNrU3BhbiwgaW5wdXRHcm91cC5xdWVyeVNlbGVjdG9yKCcuc3RhdGVzLWlucHV0LWJ1dHRvbnMnKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUGxhY2Vob2xkZXIoKSB7XG4gICAgICAgICAgICBsZXQgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBwbGFjZWhvbGRlci5jbGFzc05hbWUgPSBcImZlZWRiYWNrXCI7XG4gICAgICAgICAgICBwbGFjZWhvbGRlci5pbm5lckhUTUwgPSBcIiZuYnNwO1wiO1xuICAgICAgICAgICAgaW5wdXRHcm91cC5pbnNlcnRCZWZvcmUocGxhY2Vob2xkZXIsIHRlc3RCdXR0b25zR3JvdXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHBhZ2luYXRpb24oKSB7XG4gICAgICAgIGxldCBwYWdpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRpb24nKTtcbiAgICAgICAgbGV0IGl0ZW1zID0gcGFnaW5hdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdsaScpO1xuXG4gICAgICAgIFsuLi5pdGVtc10uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGFjdGl2ZUl0ZW1JbmRleCA9IHBhcnNlSW50KHBhZ2luYXRpb24ucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpLmRhdGFzZXQucGFnZSk7XG5cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gb2xkIGFjdGl2ZSBpdGVtXG4gICAgICAgICAgICAgICAgaXRlbXNbYWN0aXZlSXRlbUluZGV4XS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgIC8vIHByZXYgJiBuZXh0IGNhc2VzXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3ByZXYnKSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtc1thY3RpdmVJdGVtSW5kZXggLSAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ25leHQnKSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtc1thY3RpdmVJdGVtSW5kZXggKyAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZWxlY3RlZCBuZXcgYWN0aXZlIHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZWxhdW5jaCBmdW5jdGlvbiBmb3IgZGVtbyBwdXJwb3NlXG4gICAgICAgICAgICAgICAgUGFnaW5hdGlvbi5wYWdpbmF0aW9uKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG5vdGlmaWNhdGlvbigpIHtcblxuICAgICAgICAvLyBzdGFuZGFyZCBidXR0b25zIChub24tc3RpY2t5IG5vdGlmaWNhdGlvbnMpXG4gICAgICAgIGxldCBzdGFuZGFyZE5vdGlmaWNhdGlvbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhbmRhcmQtbm90aWZpY2F0aW9ucyBidXR0b24nKTtcblxuICAgICAgICBbLi4uc3RhbmRhcmROb3RpZmljYXRpb25CdXR0b25zXS5mb3JFYWNoKGZ1bmN0aW9uKGJ1dHRvbikge1xuICAgICAgICAgICAgbGV0IG5vdGlmaWNhdGlvblRleHQgPSBidXR0b24uZGF0YXNldC50ZXh0O1xuICAgICAgICAgICAgbGV0IG5vdGlmaWNhdGlvblR5cGUgPSBidXR0b24uY2xhc3NOYW1lLnNsaWNlKDQpO1xuXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uY3JlYXRlKG5vdGlmaWNhdGlvblRleHQsIG5vdGlmaWNhdGlvblR5cGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHN0aWNreSBub3RpZmljYXRpb24gYnV0dG9uXG4gICAgICAgIGxldCBzdGlja3lCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5vdGlmaWNhdGlvbnMtdGVzdCAuc3RpY2t5Jyk7XG5cbiAgICAgICAgWy4uLnN0aWNreUJ1dHRvbnNdLmZvckVhY2goZnVuY3Rpb24oYnV0dG9uKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgbm90aWZpY2F0aW9uVGV4dCA9IGJ1dHRvbi5kYXRhc2V0LnRleHQ7XG4gICAgICAgICAgICAgICAgbGV0IGlzU3RpY2t5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24uY3JlYXRlKG5vdGlmaWNhdGlvblRleHQsIFwiaW5mb1wiLCBpc1N0aWNreSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCAqIGFzIFV0aWxzIGZyb20gJy4vVXRpbHMnO1xuXG5sZXQgdmlzaWJsZVRhYkNvbnRlbnRJZHM7XG5cbmV4cG9ydCBjbGFzcyBUYWIge1xuXG4gICAgLy8gbGF1bmNoIGNsYXNzIG1ldGhvZHNcbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgdGhpcy50YWIoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdGFiKCkge1xuICAgICAgICAvLyB1cGRhdGUgYWN0aXZlIHRhYihzKVxuICAgICAgICB0aGlzLnVwZGF0ZUFjdGl2ZUNvbnRlbnRJZHMoKTtcblxuICAgICAgICAvLyBoaWRlIG5vbiBhY3RpdmUgY29udGVudCBhdCBwYWdlIHN0YXJ0IHVwIChzaG93IHN0aWxsIGRpc3BsYXkgYWN0aXZlIGNvbnRlbnQpXG4gICAgICAgIHRoaXMuaGlkZU5vbkFjdGl2ZUNvbnRlbnQoKTtcblxuICAgICAgICAvLyBtZW51IGJlaGF2aW91clxuICAgICAgICBsZXQgdGFiTWVudUxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYnMtbWVudSBhJyk7XG4gICAgICAgIFsuLi50YWJNZW51TGlua3NdLmZvckVhY2goZnVuY3Rpb24obGluaykge1xuICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAvLyBnZXQgbGluayBvd25pbmcgdGFiXG4gICAgICAgICAgICAgICAgbGV0IHRhYnMgPSBVdGlscy5jbG9zZXN0KGxpbmssICd0YWJzJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBoaWRlIGN1cnJlbnQgYWN0aXZlIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBsZXQgYWN0aXZlTWVudVRhYiA9IHRhYnMucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGlmKG51bGwgIT0gYWN0aXZlTWVudVRhYikgeyBhY3RpdmVNZW51VGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOyB9XG5cbiAgICAgICAgICAgICAgICAvLyBhZGQgJ2FjdGl2ZScgY2xhc3MgdG8gbGluayBwYXJlbnRcbiAgICAgICAgICAgICAgICBsaW5rLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBhbmQgZmluYWxseSB1cGRhdGUgRE9NXG4gICAgICAgICAgICAgICAgVGFiLnVwZGF0ZUFjdGl2ZUNvbnRlbnRJZHMoKTtcbiAgICAgICAgICAgICAgICBUYWIuaGlkZU5vbkFjdGl2ZUNvbnRlbnQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdXBkYXRlQWN0aXZlQ29udGVudElkcygpIHtcbiAgICAgICAgdmlzaWJsZVRhYkNvbnRlbnRJZHMgPSBuZXcgU2V0KCk7IC8vIHN0YXJ0IGNsZWFuXG4gICAgICAgIGxldCBhY3RpdmVUYWJNZW51cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzLW1lbnUgLmFjdGl2ZScpO1xuICAgICAgICBbLi4uYWN0aXZlVGFiTWVudXNdLmZvckVhY2goZnVuY3Rpb24odGFiTWVudSkge1xuICAgICAgICAgICAgbGV0IHRhcmdldElkID0gdGFiTWVudS5maXJzdEVsZW1lbnRDaGlsZC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5zbGljZSgxKTsgLy8gcmVtb3ZlIHRoZSAjIHN5bWJvbFxuICAgICAgICAgICAgdmlzaWJsZVRhYkNvbnRlbnRJZHMuYWRkKHRhcmdldElkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGhpZGVOb25BY3RpdmVDb250ZW50KCkge1xuICAgICAgICBsZXQgdGFiQ29udGVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFicyAudGFicy1jb250ZW50Jyk7XG4gICAgICAgIFsuLi50YWJDb250ZW50c10uZm9yRWFjaChmdW5jdGlvbihjb250ZW50QmxvY2spIHtcbiAgICAgICAgICAgIFsuLi5jb250ZW50QmxvY2suY2hpbGRyZW5dLmZvckVhY2goZnVuY3Rpb24oY29udGVudCkge1xuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGNsZWFuIGJ5IHJlbW92aW5nICdoaWRkZW4nIGNsYXNzXG4gICAgICAgICAgICAgICAgY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIC8vIGhpZGUgY29udGVudHMgdGhhdCBhcmUgbm90IGluIGFuIGFjdGl2ZSBzdGF0ZSB0YWJcbiAgICAgICAgICAgICAgICBpZighIHZpc2libGVUYWJDb250ZW50SWRzLmhhcyhjb250ZW50LmlkKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIGxldCBwYXJlbnQ7XG5cbiAgICB3aGlsZShlbGVtZW50KSB7XG4gICAgICAgIHBhcmVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcblxuICAgICAgICBpZihoYXNDbGFzcyhwYXJlbnQsIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50ID0gcGFyZW50O1xuICAgIH07XG5cbiAgICByZXR1cm4gbnVsbDtcbn0iLCJpbXBvcnQgeyBGb3JtIH0gZnJvbSAnLi9Gb3JtJztcbmltcG9ydCB7IFBhZ2luYXRpb24gfSBmcm9tICcuL1BhZ2luYXRpb24nO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgVGFiIH0gZnJvbSAnLi9UYWInO1xuXG4vLyBzdHlsZWd1aWRlIGN1c3RvbSBleGFtcGxlc1xuaW1wb3J0IHsgU3R5bGVndWlkZSB9IGZyb20gJy4vU3R5bGVndWlkZSc7XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblxuICAgIEZvcm0uaW5pdCgpO1xuICAgIFBhZ2luYXRpb24uaW5pdCgpO1xuICAgIE5vdGlmaWNhdGlvbi5pbml0KCk7XG4gICAgVGFiLmluaXQoKTtcblxuICAgIC8vIHN0eWxlZ3VpZGUgY3VzdG9tIGV4YW1wbGVzXG4gICAgU3R5bGVndWlkZS5pbml0KCk7XG59OyJdfQ=="}